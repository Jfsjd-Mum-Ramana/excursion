import java.io.*;
import java.util.zip.GZIPInputStream;

public class ZipUtil {

    // Existing code...

    public static File unzipGZ(File file, File outputDir) {
        GZIPInputStream in = null;
        OutputStream out = null;
        File target = null;
        try {
            // Open the compressed file
            in = new GZIPInputStream(new FileInputStream(file));

            // Open the output file
            target = new File(outputDir, stripFileExt(file.getName()));
            out = new FileOutputStream(target);

            // Transfer bytes from the compressed file to the output file
            byte[] buf = new byte[1024];
            int len;
            while ((len = in.read(buf)) > 0) {
                out.write(buf, 0, len);
            }

            // Close the file and stream
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            if (in != null) {
                try {
                    in.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
            if (out != null) {
                try {
                    out.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }
        return target;
    }

    private static String stripFileExt(String fileName) {
        return fileName.replaceFirst("[.][^.]+$", "");
    }
}
